#!/bin/bash
# ========================================
# Console command helper for project scripts
# Usage:
#   ./console.sh generate-gui
#   ./console.sh install
# ========================================

# ÅšcieÅ¼ka do katalogu ze skryptami
SCRIPTS_DIR="./scripts"

# SprawdÅº, czy katalog istnieje
if [ ! -d "$SCRIPTS_DIR" ]; then
  echo "âŒ BÅ‚Ä…d: katalog '$SCRIPTS_DIR' nie istnieje."
  exit 1
fi

# GÅ‚Ã³wna logika
case "$1" in
  gui)
    echo "ðŸ›  Uruchamianie generowania GUI..."
    bash "$SCRIPTS_DIR/generateGui.sh"
    ;;
  install)
    echo "ðŸ“¦ Uruchamianie instalacji..."
    source "$SCRIPTS_DIR/install.sh"
    ;;
  freeze)
    echo "ðŸ“¦ Uruchamianie export pip..."
    pip3 freeze > requirements.txt
    ;;
  designer)
    echo "ðŸ“¦ Uruchamianie qt designer..."
    bash "$SCRIPTS_DIR/lunchQtDesigner.sh"
    ;;
  start)
    echo "ðŸ“¦ Uruchamianie projekt..."
    python app.py
    ;;
  env)
    echo "ðŸ“¦ Uruchamianie Å›rodowiska..."
    source venv/bin/activate
    source "$SCRIPTS_DIR/setGlobalVars.sh"
    ;;
  exit)
    echo "ðŸ“¦ Wyjdz ze Å›rodowiska..."
    deactivate
    ;;
  migrate)
    echo "ðŸ“¦ migracja danych"
    alembic upgrade head
    ;;
  *)
    echo "DostÄ™pne komendy:"
    echo "ENV"
    echo ". ./console env         -- wejdz do Å›rodowiska"
    echo ". ./console exit        -- wyjdz ze Å›rodowiska"
    echo ". ./console install     -- instalacja Å›rodowiska"
    echo "PROJECT"
    echo "./console start         -- start projekt"
    echo "./console migrate       -- start migrate"
    echo "./console freeze        -- export pip requirements to file"
    echo "./console gui           -- wygeneruj gui z plikÃ³w ui stworzonych w qt designer"
    echo "./console designer      -- uruchom qt designer"
    exit 1
    ;;
esac